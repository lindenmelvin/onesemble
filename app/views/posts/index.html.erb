<div id="search-container">
  <h3>Search Posts</h3>
  <%= form_tag("/posts/search.json", method: "post", remote: true, id: 'post-search-form') do %>
    <div>Published by:</div>
    <% User.all.each do |user| %>
      <label>
        <input name="users[]" type="checkbox" value="<%= user.id %>">
        <%= user.email %>
      </label>
    <% end %>
    <div>
    <div>Instrument</div>
    <% Instrument.all.each do |instrument| %>
      <label>
        <input name="instruments[]" type="checkbox" value="<%= instrument.id %>">
        <%= instrument.name %>
      </label>
    <% end %>
    <div>
    <div>Genre</div>
    <% Genre.all.each do |genre| %>
      <label>
        <input name="genres[]" type="checkbox" value="<%= genre.id %>">
        <%= genre.name %>
      </label>
    <% end %>
    
    <div>Specialty</div>
    <% Specialty.all.each do |specialty| %>
      <label>
        <input name="specialties[]" type="checkbox" value="<%= specialty.id %>">
        <%= specialty.name %>
      </label>
    <% end %>
    <div>
    <%= submit_tag("Search Posts") %>
    </div>
  <% end %>
</div>

<div id="posts-container">
  <% @posts.each do |post| %>
    <%= render 'post', post: post %>
    <a href="<%= post_path(post) %>">View Post</a>
  <% end %>
</div>